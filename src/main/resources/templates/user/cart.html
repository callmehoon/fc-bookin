<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default_base}">

<!-- 페이지 제목 -->
<head>
    <title>장바구니</title>

    <!-- 이 페이지에만 필요한 CSS -->
    <th:block layout:fragment="css">
        <link rel="stylesheet" th:href="@{/user/cart.css}">
    </th:block>
</head>

<body>
<!-- 메인 컨텐츠 -->
<div layout:fragment="content">
    <main class="cart-main-layout">
        <!-- 장바구니 상품 테이블 -->
        <section class="cart-table-section">
            <h2 class="cart-header">장바구니</h2>
            <table class="cart-table">
                <colgroup>
                    <col style="width: 5%">
                    <col style="width: 45%">
                    <col style="width: 15%">
                    <col style="width: 15%">
                    <col style="width: 20%">
                </colgroup>
                <thead>
                    <tr>
                        <th><input type="checkbox" id="selectAllCheckbox"></th>
                        <th>상품정보</th>
                        <th>판매상태</th>
                        <th>수량</th>
                        <th>금액</th>
                    </tr>
                </thead>
                <tbody id="cartItemsList">
                    <!-- JS로 상품 행이 동적으로 렌더링됨 -->
                </tbody>
            </table>
            <div class="empty-cart" id="emptyCart" style="display: none;">
                <p>장바구니가 비어있습니다.</p>
                <button class="continue-shopping-btn" onclick="location.href='/main'">쇼핑 계속하기</button>
            </div>
            <div class="cart-actions">
                <button class="delete-selected-btn" id="deleteSelectedBtn">선택 삭제</button>
                <button class="delete-all-btn" id="deleteAllBtn">전체 삭제</button>
            </div>
        </section>
        <!-- 우측 서머리 박스 -->
        <aside class="cart-summary-aside">
            <div class="price-summary" id="priceSummaryBox">
                <div class="summary-item">
                    <span class="summary-label">상품 금액:</span>
                    <span class="summary-value" id="subtotalPrice">₩0</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label">배송비:</span>
                    <span class="summary-value" id="shippingFee">₩0</span>
                </div>
                <div class="summary-item total">
                    <span class="summary-label">총 결제금액:</span>
                    <span class="summary-value" id="totalPrice">₩0</span>
                </div>
                <div class="order-actions">
                    <button class="order-selected-btn" id="orderSelectedBtn">선택상품 주문</button>
                    <button class="order-all-btn" id="orderAllBtn">전체상품 주문</button>
                </div>
            </div>
        </aside>
    </main>
</div>

<!-- 이 페이지에만 필요한 JavaScript -->
<th:block layout:fragment="javascript">
    <script th:src="@{/user/cart.js}"></script>
</th:block>
</body>
</html>